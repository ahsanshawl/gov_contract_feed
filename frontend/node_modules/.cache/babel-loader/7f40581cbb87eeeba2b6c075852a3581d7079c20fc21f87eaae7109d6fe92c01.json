{"ast":null,"code":"const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\nexport async function fetchFeed(userId = \"default\", sources = \"sam,usaspending,grants\", limit = 15, offset = 0, openaiKey = \"\") {\n  const keyParam = openaiKey ? `&openai_key=${encodeURIComponent(openaiKey)}` : \"\";\n  const res = await fetch(`${API_BASE}/api/feed/?user_id=${userId}&sources=${sources}&limit=${limit}&offset=${offset}${keyParam}`);\n  if (!res.ok) throw new Error(`Feed error: ${res.status}`);\n  return res.json();\n}\nexport async function updateProfileFromText(rawInput, openaiKey, userId = \"default\") {\n  const res = await fetch(`${API_BASE}/api/profile/from-text`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      user_id: userId,\n      raw_input: rawInput,\n      openai_api_key: openaiKey\n    })\n  });\n  const data = await res.json();\n  return data.profile;\n}\nexport async function updateProfileDirect(keywords, focus, openaiKey, userId = \"default\") {\n  const res = await fetch(`${API_BASE}/api/profile/update`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      user_id: userId,\n      keywords,\n      focus,\n      openai_api_key: openaiKey\n    })\n  });\n  const data = await res.json();\n  return data.profile;\n}","map":{"version":3,"names":["API_BASE","process","env","REACT_APP_API_URL","fetchFeed","userId","sources","limit","offset","openaiKey","keyParam","encodeURIComponent","res","fetch","ok","Error","status","json","updateProfileFromText","rawInput","method","headers","body","JSON","stringify","user_id","raw_input","openai_api_key","data","profile","updateProfileDirect","keywords","focus"],"sources":["/Users/ahsanshawl/Downloads/govfeed_2/frontend/src/services/api.ts"],"sourcesContent":["const API_BASE = process.env.REACT_APP_API_URL || \"http://localhost:8000\";\n\nexport interface FeedItem {\n  id: string;\n  source: string;\n  source_type: \"contract\" | \"award\" | \"grant\";\n  title: string;\n  description: string;\n  agency: string;\n  posted_date: string;\n  deadline: string;\n  naics: string;\n  set_aside: string;\n  contract_type: string;\n  url: string;\n  award_amount: number | null;\n  relevance_score?: number;\n  ai_summary?: string;\n  recipient?: string;\n  is_mock?: boolean;\n}\n\nexport interface UserProfile {\n  keywords: string;\n  org_type: string;\n  focus: string;\n  agencies?: string[];\n  raw_input?: string;\n}\n\nexport interface FeedResponse {\n  items: FeedItem[];\n  total: number;\n  has_more: boolean;\n  source_counts: Record<string, number>;\n  profile: UserProfile;\n}\n\nexport async function fetchFeed(\n  userId = \"default\",\n  sources = \"sam,usaspending,grants\",\n  limit = 15,\n  offset = 0,\n  openaiKey = \"\"\n): Promise<FeedResponse> {\n  const keyParam = openaiKey ? `&openai_key=${encodeURIComponent(openaiKey)}` : \"\";\n  const res = await fetch(\n    `${API_BASE}/api/feed/?user_id=${userId}&sources=${sources}&limit=${limit}&offset=${offset}${keyParam}`\n  );\n  if (!res.ok) throw new Error(`Feed error: ${res.status}`);\n  return res.json();\n}\n\nexport async function updateProfileFromText(\n  rawInput: string,\n  openaiKey: string,\n  userId = \"default\"\n): Promise<UserProfile> {\n  const res = await fetch(`${API_BASE}/api/profile/from-text`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ user_id: userId, raw_input: rawInput, openai_api_key: openaiKey }),\n  });\n  const data = await res.json();\n  return data.profile;\n}\n\nexport async function updateProfileDirect(\n  keywords: string,\n  focus: string,\n  openaiKey: string,\n  userId = \"default\"\n): Promise<UserProfile> {\n  const res = await fetch(`${API_BASE}/api/profile/update`, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({ user_id: userId, keywords, focus, openai_api_key: openaiKey }),\n  });\n  const data = await res.json();\n  return data.profile;\n}\n"],"mappings":"AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,IAAI,uBAAuB;AAsCzE,OAAO,eAAeC,SAASA,CAC7BC,MAAM,GAAG,SAAS,EAClBC,OAAO,GAAG,wBAAwB,EAClCC,KAAK,GAAG,EAAE,EACVC,MAAM,GAAG,CAAC,EACVC,SAAS,GAAG,EAAE,EACS;EACvB,MAAMC,QAAQ,GAAGD,SAAS,GAAG,eAAeE,kBAAkB,CAACF,SAAS,CAAC,EAAE,GAAG,EAAE;EAChF,MAAMG,GAAG,GAAG,MAAMC,KAAK,CACrB,GAAGb,QAAQ,sBAAsBK,MAAM,YAAYC,OAAO,UAAUC,KAAK,WAAWC,MAAM,GAAGE,QAAQ,EACvG,CAAC;EACD,IAAI,CAACE,GAAG,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,eAAeH,GAAG,CAACI,MAAM,EAAE,CAAC;EACzD,OAAOJ,GAAG,CAACK,IAAI,CAAC,CAAC;AACnB;AAEA,OAAO,eAAeC,qBAAqBA,CACzCC,QAAgB,EAChBV,SAAiB,EACjBJ,MAAM,GAAG,SAAS,EACI;EACtB,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGb,QAAQ,wBAAwB,EAAE;IAC3DoB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEC,OAAO,EAAEpB,MAAM;MAAEqB,SAAS,EAAEP,QAAQ;MAAEQ,cAAc,EAAElB;IAAU,CAAC;EAC1F,CAAC,CAAC;EACF,MAAMmB,IAAI,GAAG,MAAMhB,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,OAAOW,IAAI,CAACC,OAAO;AACrB;AAEA,OAAO,eAAeC,mBAAmBA,CACvCC,QAAgB,EAChBC,KAAa,EACbvB,SAAiB,EACjBJ,MAAM,GAAG,SAAS,EACI;EACtB,MAAMO,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGb,QAAQ,qBAAqB,EAAE;IACxDoB,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEC,OAAO,EAAEpB,MAAM;MAAE0B,QAAQ;MAAEC,KAAK;MAAEL,cAAc,EAAElB;IAAU,CAAC;EACtF,CAAC,CAAC;EACF,MAAMmB,IAAI,GAAG,MAAMhB,GAAG,CAACK,IAAI,CAAC,CAAC;EAC7B,OAAOW,IAAI,CAACC,OAAO;AACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}